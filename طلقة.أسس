
صنف طـلقة
{
  عرف س: صحيح؛
  عرف ص: صحيح؛
  عرف ميت: ثنائي؛
}؛

 
دالة حدث_الطلقة (ط: سند[طـلقة]، ل: سند[لـاعب]، عصا:سند[تـحكم]) {
  إذا ط.ميت == 0{
    // تحريك الإطلاقة
    إذا ط.س < 1380 {
      ط.س += 10؛
    }؛

    // رسم الإطلاقة
    إذا ط.س < 1280 {
      نقش_اطلاقة.اطمغ(ط.س، ط.ص)؛
    }؛
  }؛
  
  // إعادة الإطلاق
  إذا ل.ميت == 0 {
    إذا عصا.زر_الفعل == 1 و ل.عداد_الإطلاق >=10{
      إذا ط.س >= 1280 أو ط.ميت==1 {
        ط.ميت=0؛
        ط.س = ل.س + 20؛
        ط.ص = ل.ص + 13؛
        ل.عداد_الإطلاق=0؛
        صوت.شغل()؛
      }؛
    }؛  
  }؛
}؛
